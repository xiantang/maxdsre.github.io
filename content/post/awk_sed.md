---
title: "使用二八法则学习 awk 和 sed"
date: 2022-06-29T22:14:09+08:00
author: "xiantang"
# lastmod: 
# tags: []
# categories: []
# images:
#   - ./post/golang/cover.png
description:
draft: true
---


<!-- 
* 总是会先写一句话，同步背景和上下文
* 评论式写作引用一些大牛说的话
* 多一些有趣的跳转链接
* 在文章末尾推荐一些有趣的链接
* 先写提纲，再写内容 -->

> 篇幅只占20%、然而有效性却达到80%  -二八法则

# 本文你能学到什么？

在本文中，我们将学习到如何使用二八法则来省力轻松学习 linux 文本处理命令 awk 与 sed。读完本文你就会学习到一种快速学习的方法，
以及使用 awk 与 sed 来处理文本和 stdout。

最近在学习 awk 和 sed 发现真的有很多细节，没办法一开始就抓住最重要的部分，被繁杂的语法所困扰，比较难懂。
于是使用从《软技能-代码之外的生存指南》中学习的二八法则，来实践学习一下 awk 和 sed 的基本用法，发现效果十分不错。
本文就介绍一下我是如何使用二八法则学习 awk 和 sed 的。

## 什么是二八法则？

在文章的开篇中有提到 "篇幅只占20%、然而有效性却达到80%"，叫做 "帕累托法则"。指出约有 20% 的因素可以影响 80% 的结果。
对于学习技术也是十分的适用，用得最多的 20% 的技术知识点，可以完成 80% 的技术工作。也就是说其实我们只需要专注最常用的
case 来针对性学习，防止真正重要的内容会被埋没在细枝末节中。

## 如何利用二八法则来学习？

既然二八法则这么好用那如何来实践呢？ 《软技能-代码之外的生存指南》 主要总结了 10 步，也就是学习一个新的技术可以通过下面十步来完成：

- 第一步： 如何开始： 想要用起来 需要哪些基本知识？
- 第二步：学科范围：学的东西有多少大？我要怎么做？
- 第三步：需要了解基本的用户案例，和常见问题，知道学哪 20% 满足 80% 应用场景 
- 第四步：寻找资源
- 第五步：定义目标 
- 第六步： 筛选资源
- 第七步：开始学习 浅尝即止
- 第八步：动手操作 边学边玩
- 第九步：全面掌握，学以致用
- 第十步：好为人师

我们可以将这 10 步分为两大块
* 第一块 第一步到第六步，只需要从头到尾执行一次
* 第二块 第七步到第十步，需要反复执行

其中第一块查找筛选输入资源，定义目标中需要注意的是：

找到**实际的应用的主要用途**是哪些：
例如 sed 你会发现他的主要的应用的 case 是对文本和流数据行的增删改查。对于这些 common case 
你可以通过粗浅的扫一下相关的资料来了解到。 如果不知道如何有效的获取信息，可以看这一篇我的文章
[我是如何获取知识与信息的](/post/softskills/how_do_i_acquire_knowledge_and_information/)

定义出一个**可执行的目标**： 
你需要定义一个可执行的目标，比如对于 sed 我需要把 `tldr sed` 中所有用例重写一遍。对于`awk` 我的目标就是
使用 `awk` 来查找 yaml 中的某个字段的值。

筛选**足够达成目标所需的资料**：
当你通过搜索引擎到一些比较好的资料时候，你就可以通过阅读大纲等筛选出阅读之后能让你达到目标的资料，也就是最常见用途的资料虽然可能比较粗略，
但是之后在你实践的时候会更加精确的在其中找到真正你需要的资料。

第二块**边查文档边实践，输出见解**：
其实我对于如何快速学习技术的方法一直都是动手去做，多去实践。刚毕业的时候我很喜欢对于一个技术知识点采用"从封面到封底"的方式去学习，
但是随着时间越来越少，已经没有精力把一本书从头到尾的精读完了。

于是按照边查文档边实践的方式来学习的方式效率会更高，同时这也符合学习金字塔的思想。

![学习金字塔](/image/the_cone_of_learning.png)

对于一个知识点如果你只采用读的方式去学习，那你只能吸收到 10% 的内容，但是你采用教学和玩的方式去学习，你可以吸收到 90% 的内容。
举个很简单的例子，我当时高中的时候玩炉石传说，里面经典卡牌有 300+ 张，我却能够说出 90% 的牌的身材和效果，其实我没有刻意的去记住
只是因为我玩的时候比较喜欢玩，所以我就把这些卡牌都学习了。

所以很重要一点就是在**学习的时候采用玩的方式**，去实践而不是捧读文档。
同样**教学是更好的学习**，因为你能在同时巩固和确定你的知识点的逻辑是正确的，我输出这篇文章也是为了更好的巩固关于二八法则与 awk sed 这些知识点。

对于这比较有用的 20% 的知识点采用实践的方式去学习之后，当你正在实践的时候，遇到一些偏门的 feature 你就可以通过查阅文档的方式，更加精确得使用
这些 feature 避免了你在繁杂的细节中迷失。

下面我会举两个实例来说明这个方法：

# 学习 awk

首先我们通过浅读文档了解到 awk 是一个什么样的工具：

`Awk is an extremely versatile programming language for working on files. ` 

awk 其实是一种用于处理文本的编程语言，这就能解释当你从 stackoverflow 上尝试解决文本处理问题的时候，
很多回答给出 awk 的示例没有那么简单明了，原因也就是他是一门编程语言，并不像 grep 一样只需要添加几个命令行参数就可以
查找文本。

## 寻找最常用的用途

我这边是使用 `tldr` 来查找这个命令的最常用的用途，`tldr` 通过实际示例简化深受欢迎的 `man` 页面。
他的输出如下：

```
  awk

  A versatile programming language for working on files.
  More information: https://github.com/onetrueawk/awk.

  - Print the fifth column (a.k.a. field) in a space-separated file:
    awk '{print $5}' filename

  - Print the second column of the lines containing "foo" in a space-separated file:
    awk '/foo/ {print $2}' filename

  - Print the last column of each line in a file, using a comma (instead of space) as a field separator:
    awk -F ',' '{print $NF}' filename
  
  ...
```

通过这些示例我就能知道 awk 的常用用途有哪些，以及就是哪些语法和参数是最重要的。

## 找到学习资源

## 设定目标

### case 读取 yaml 某个字段的值

## 过滤学习资源

## 浅读文档

## 学以致用

## 输出

# 学习 sed

省略前边 

## 寻找 common case

## 学以致用

# 总结
